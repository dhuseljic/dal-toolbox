random_seed: 42
experiment_name: updating
mlflow_uri: sqlite:///updating.db

update_lmb: 1
update_gamma: 10
update_gamma_fo: 1e-3
update_gamma_mc: 1e-2
likelihood: gaussian

num_init_samples: 10
num_new_samples: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
# num_new_samples: [5, 10, 15, 20, 25, 30, 35, 40, 45, 50]
# num_new_samples: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]


dataset_path: /home/datasets
dataset_name: cifar10
use_val_split: False
cache_features: True
feature_cache_dir: null
num_workers: 0

dino_model_name: 'dinov2_vits14' # 21 M params - 384 dimensions
# dino_model_name: 'dinov2_vitb14' # 86 M params - 768 dimensions
# dino_model_name: 'dinov2_vitl14' # 300 M params - 1024 dimensions
# dino_model_name: 'dinov2_vitg14' # 1100 M params - 1536 dimensions

model:
  name: laplace
  num_epochs: 200
  train_batch_size: 64
  predict_batch_size: 128
  mean_field_factor: 1
  mc_samples: 10_000

optimizer: 
  name: RAdam
  lr: 1e-2
  weight_decay: 1e-4
  momentum: 0.9
  lr_backbone: 1e-5
  finetune_backbone: False

output_dir: ./output/
hydra:
  run:
    dir: ${output_dir}
  job_logging:
    handlers:
      file:
        mode: w